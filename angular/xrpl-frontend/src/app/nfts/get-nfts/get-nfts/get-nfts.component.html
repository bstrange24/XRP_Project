<div class="app">
    <mat-card>
      <div class="centered-container">
        <mat-card-content>
          <div class="account-config-box">
            <div class="form-container">
              <mat-form-field class="wide-form-field" appearance="fill">
                <mat-label>Account Address</mat-label>
                <input
                  matInput
                  [(ngModel)]="account"
                  placeholder="Enter XRP account address (e.g., rLRYbzsJnf6DGEaQZ7jgh3sLWNnmeCpF3D)"
                  required
                  (keyup.enter)="onEnter()"
                >
              </mat-form-field>
  
              <!-- Button to trigger NFT loading -->
              <button
                mat-button
                color="primary"
                (click)="onEnter()"
                [disabled]="isLoading || !account.trim()"
              >
                {{ isLoading ? 'Loading...' : 'Get Account NFTs' }}
              </button>
            </div>
  
            <!-- Loading State -->
            <!-- <div *ngIf="!errorMessage && !isLoading && transactions.length === 0" class="loading">
              Enter an account address and click "Get Account NFTs" to retrieve account configuration.
            </div> -->
  
            <!-- Error Message -->
            <div class="error-message" *ngIf="errorMessage">
              <p>{{ errorMessage }}</p>
            </div>
  
            <!-- NFT Table -->
            <mat-tab-group #tabChange="matTabGroup" [(selectedIndex)]="selectedTabIndex" (selectedTabChange)="onTabChange($event)">
              <mat-tab label="NFTs">
                <div class="table-container" (wheel)="onWheel($event)">
                  <div *ngIf="!isTransactionDetails; else transactionDetailTemplate">
                    <table mat-table [dataSource]="transactions" class="mat-elevation-z8">
                      <ng-container matColumnDef="combined">
                        <th mat-header-cell *matHeaderCellDef>
                          <div class="header-row">
                            <span class="header-cell">Issuer Account</span>
                            <span class="header-cell type-header">NFT Token Id</span>
                            <span class="header-cell status-header">NFT Token Taxon</span>
                            <span class="header-cell status-header">Flags</span>
                            <span class="header-cell status-header">Serial Number</span>
                          </div>
                        </th>
                        <td mat-cell *matCellDef="let tx">
                          <div class="transaction-unit" (click)="navigateToTransaction(tx.Account, tx.transaction_hash)">
                            <div class="main-row">
                              <span class="cell">{{ tx.Issuer }}</span>
                              <span class="cell type-header">{{ tx.NFTokenID }}</span>
                              <span class="cell status-header">{{ tx.NFTokenTaxon }}</span>
                              <span class="cell status-header">{{ tx.Flags }}</span>
                              <span class="cell status-header">{{ tx.nft_serial }}</span>
                            </div>
                            <div class="details-row">
                              {{ tx.additional_information }}
                            </div>
                          </div>
                        </td>
                      </ng-container>
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    </table>
                    <div *ngIf="isLoading" class="loading">Loading more transactions...</div>
                  </div>
                  <ng-template #transactionDetailTemplate>
                    <!-- Placeholder for transaction details if needed -->
                  </ng-template>
                </div>
              </mat-tab>
            </mat-tab-group>
          </div>
        </mat-card-content>
      </div>
    </mat-card>
  </div>

<!-- <div class="app">
    <mat-card>
      <div class="centered-container">
        <mat-card-content>
          <div class="account-config-box">
            <div class="form-container">
                <mat-form-field class="wide-form-field" appearance="fill">
                  <mat-label>Account Address</mat-label>
                  <input matInput [(ngModel)]="account" placeholder="Enter XRP account address (e.g., rLRYbzsJnf6DGEaQZ7jgh3sLWNnmeCpF3D)" required>
                </mat-form-field>
            </div>
  

  
            <div class="error-message" *ngIf="errorMessage">
              <p>{{ errorMessage }}</p>
            </div>
  
            <div *ngIf="!errorMessage && !isLoading" class="loading">
              Enter an account address and click "Get Account NFT's" to retrieve account configuration.
            </div>

            <mat-tab-group #tabChange="matTabGroup" [(selectedIndex)]="selectedTabIndex" (selectedTabChange)="onTabChange($event)">
                <mat-tab label="">
                  <div class="table-container" (wheel)="onWheel($event)">
                    <div *ngIf="!isTransactionDetails; else transactionDetailTemplate">
                      <table mat-table [dataSource]="transactions" class="mat-elevation-z8">
                        <ng-container matColumnDef="combined">
                          <th mat-header-cell *matHeaderCellDef>
                            <div class="header-row">
                              <span class="header-cell">Issuer Account</span>
                              <span class="header-cell type-header">NFT token Id</span>
                              <span class="header-cell status-header">NFT Token Taxon</span>
                              <span class="header-cell status-header">Flags</span>
                              <span class="header-cell status-header">Serial Number</span>
                            </div>
                          </th>
                          <td mat-cell *matCellDef="let tx">
                            <div class="transaction-unit" (click)="navigateToTransaction(tx.Account, tx.transaction_hash)">
                              <div class="main-row">
                                <span class="cell">{{ tx.Issuer }}</span>
                                <span class="cell type-header">{{ tx.NFTokenID }}</span>
                                <span class="cell status-header">{{ tx.NFTokenTaxon }}</span>
                                <span class="cell status-header">{{ tx.Flags }}</span>
                                <span class="cell status-header">{{ tx.nft_serial }}</span>
                              </div>
                              <div class="details-row">
                                {{ tx.additional_information }}
                              </div>
                            </div>
                          </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                      </table>
                      <div *ngIf="isLoading" class="loading">Loading more transactions...</div>
                    </div>
                    <ng-template #transactionDetailTemplate>
                    </ng-template>
                  </div>
                </mat-tab>
                
              </mat-tab-group>
          </div>
        </mat-card-content>
      </div>
    </mat-card>
  </div> -->